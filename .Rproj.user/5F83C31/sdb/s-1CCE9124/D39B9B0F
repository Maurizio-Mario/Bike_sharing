{
    "contents" : "---\ntitle: \"Washington Bike Sharing Service\"\nauthor: \"Maurizio Murino\"\ndate: \"16 February 2016\"\noutput: html_document\n---\n# 1. Introduction\n\n_This project is about the Capital Bikeshare (CaBi) scheme (<http://www.capitalbikeshare.com/>) in Washington DC, launched in 2008 by the government of District of Columbia. In this project, we focus on the operations of CaBi in 2011 and 2012. In the Excel spreadsheet `data.xlsx`, it contains hourly rental data spanning these two years. Two types of rental data were recorded: casual\nrenters and registered renters. A registered renter is a pre-registered member of the bike sharing program, while a casual renter pays for the use of a bike on the spot using a credit card. In addition to the time/date information (including holidays), the spreadsheet also records the weather condition in each hour (e.g., temperature, wind speed and humidity)._  \n\n# 2. Loading the data\n\nWe are going to load in R the whole Excel workbook. Since it is composed by three separated sheets, the package `XLConnect` comes in use. It allow to read the entire workbook, and then load the single worksheets. Please note that `XLConnect` requires Java to be pre-installed. \n\n```{r introduction 1, cache=TRUE, results='hide'}\nlibrary(XLConnect)\nwork_book <- loadWorkbook(\"raw data.xlsx\") \n```\n\nSince the `work_book` is quite small (1728 bytes) we are going to load in memory every sheet like a separate object.\n\n```{r introduction 2}\nobject.size(work_book)\n```\n\n```{r introduction 3, cache=TRUE}\nnote <- readWorksheet(work_book, sheet = \"Note\")\nall_data <- readWorksheet(work_book, sheet = \"All data\")\ntesting <- readWorksheet(work_book, sheet = \"Testing\")\n```\n\n# 3. Data description\n\nThe Excel workbook is composed by three sheets: \"Note\" is the coodebook, \"All data\" is the main dataset, \"Testing\" is a second and smaller dataset.\n\n```{r data description 1, results='hide'}\n#summary(work_book) [check!]\n```\n\n### 3.1 \"Note\"\n\nIt is the codebook. It describes how the content of the dataset is coded. Specifically, it reports how seasons (`season`) and weekdays (`Weekday`) are numerically coded in the datasets.\n\n```{r data description 2}\nstr(note)\n```\n\n###3.2 \"all_data\"\n\nThe dataset `all_data` is composed by 17379 observation with 13 variables. `datetime` is profitably flanked by variables providing further information on the day of the week, the season and if we are talking about a working or a resting day.   \n\n```{r data description 3}\nstr(all_data)\n```\n\n###3.3 \"testing\"\n\n`testing` is a smaller 688 observations dataset. On this data, we will try do develop a model that could forecast the daily rental demand for both casual and registered renters.\n\n```{r data description 4}\nstr(testing)\n```\n\n#4. Part 1 (50%) - Data exploration\n\n_Use data visualisation to explore the data as much as possible. The top management also welcomed any interesting insights that you might observe from the data. The top management also indicated that they were interested in knowing more about their customers,\nincluding the behavioural differences between casual renters and registered renters. Although you were only given limited data (not including the data by stations), the top management wondered if the data could reveal any information about the purposes of the bike rentals by casual renters and registered renters._ \n\n###4.1 Casual renters\n\nIn first place we load the `xts` package, that will help us in manage the time series. Then we create a new `xts` object containing the number of casual bike renter along the time horizon considered, that is, from January 1st 2011 and December 31st 2012.\n\n```{r data exploration 1, results='hide'}\nlibrary(xts)\ncasual_xts<- xts(all_data$Casual.renter, all_data$datetime)\n```\n\nWe think that the weather could be could be a relevat incentive to the use of the bike. Hence, we are going to plot the total number of casual renter per day. The plot could be more readable by plotting their number by week, but we choose this time format in order to make the plots in line with the requests of the second part of the assignment.\n\n**NOTE:** The legend box is too compact to allocate the weather conditions as reported in `note`:\n\n**Good:** Clear, Few clouds, Partly cloudy, Partly cloudy\n\n**Quite good:** Mist + Cloudy, Mist + Broken clouds, Mist + Few clouds, Mist\n\n**Quite bad:** Light Snow, Light Rain + Thunderstorm + Scattered clouds, Light Rain + Scattered clouds\n\n**Bad:** Heavy Rain + Ice Pallets + Thunderstorm + Mist, Snow + Fog\n\n```{r data exploration 2, fig.width=10}\nplot(apply.daily(casual_xts, sum), type = \"p\", pch = all_data$weather, main = \"Total number of causal renter per day, by weather\")\nlegend('topleft', legend=c(\"Good\", \"Quite good\", \"Quite bad\",\"Bad\"), pch=1:4, title = \"Weather\", cex = 0.5, pt.cex = 1)\n```\n\n\n\n\n\n",
    "created" : 1455645555592.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1208272581",
    "id" : "D39B9B0F",
    "lastKnownWriteTime" : 1455734938,
    "path" : "C:/Users/MaurizioLocale/OneDrive/Freelancer/Bike_sharing/Bike_sharing_code.Rmd",
    "project_path" : "Bike_sharing_code.Rmd",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "type" : "r_markdown"
}